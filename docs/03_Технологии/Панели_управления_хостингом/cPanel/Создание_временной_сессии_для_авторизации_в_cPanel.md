---
title: 'Создание временной сессии для авторизации в cPanel'
authors: 
 - glowingsword
tags:
 - cPanel
 - PHP
date: 2020-04-28
---
# Создание временной сессии для авторизации в cPanel

Если доступ от имени root к ==WHM== уже есть, для создания одноразовой сессии на ==CPanel== достаточно сделать запрос вида 

``` bash
https://servXX.name:483/cpsess1232345678/json-api/create_user_session?api.version=2&user=u01234567&service=cpaneld
```

Где <https://servXX.name:483/cpsess1232345678> адрес, на который ==CPanel==
редиректит после базовой авторизации, а ==u01234567== - имя пользователя, под которым необходимо залогиниться.

Если доступа к ==WHM== нет(что естественно в большинстве случаев), но есть доступ к серверу по SSH(доступ по ключу, не зная пароля), и возможность выполнить команду вида

``` bash
uapi --user=username Session create_temp_user
```
с привилегиями пользователя root - выполняем команду, где ==username== - имя пользователя, для которого необходимо создать временную сессию. Команда вернёт нам данные созданной сессии, которые можно использовать для авторизации в ==cPanel== от имени данного ползователя.