---
title: "Получаем список прав на файлы и каталоги с помощью find и stat"
authors: 
 - glowingsword
tags:
 - Linux
date: 2023-03-02
---
# Получаем список прав на файлы и каталоги с помощью find и stat

Бывает так, что у какого-то сайта файлы и каталоги имеют не корректные права доступа для текущего режима работы обработчиков PHP, и нам нужно временно переключить сайт с "Apache FastCGI" режима работы PHP на "PHP как модуль Apache", или наоборот. Но, старые права на некоторые файлы и каталоги не стандартные, и при возврате работы сайта к старому режиму(если потребуется), желательно сохранить информацию о правах на каждый файл и каталог, для того, чтобы эти права можно было вернуть при восстановлении старых прав на соответствующие файлы и каталоги.

Также бывает, что права не верные, из-за чего у сайта проблема с отображением части страниц/полным отображением сайта. Мы собираемся это исправить, но для клиента хотим сохранить информацию о правах, что были раньше, чтобы он понял где допустил ошибку.

В таких случаях используем команду

```bash
find /some_path -exec  stat -c "%a %n" {} \; > files_and_rights_list.txt
```

где вместо ```/some_path``` указываем путь к домашнему каталогу сайта, информацию о правах на файлы и каталоги которого сохраняем. А вместо ```files_and_rights_list.txt``` указываем путь к файлу, в котором сохраняем информацию о правах.